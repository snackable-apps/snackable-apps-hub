<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Snackable Games ğŸ®</title>
  <meta name="description" content="Quick, fun browser games you can play in minutes. F1 Quiz, Sudoku, and more!" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ®</text></svg>">
  <link rel="stylesheet" href="css/style.css" />

  <!-- GA4 - Hub Property -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z9BWP9G3HS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z9BWP9G3HS');

    // Track session start time
    const sessionStartTime = Date.now();
  </script>

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4490023750698733"
     crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <h1>Snackable Games</h1>
    <p>Quick, fun games you can play in minutes</p>
  </header>

  <div class="page-wrapper">
    <!-- Left Sidebar Ad -->
    <aside class="ad-sidebar ad-sidebar-left">
      <div class="ad-banner-vertical">
        <ins class="adsbygoogle"
             style="display:block;"
             data-ad-client="ca-pub-4490023750698733"
             data-ad-slot="9922848476"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </aside>

    <main>
      <div class="game-grid">
        <a href="/f1-quiz/" class="game-card f1" onclick="trackGameClick('f1-quiz')">
          <span class="badge">New</span>
          <span class="emoji">ğŸï¸</span>
          <h2>F1 Quiz</h2>
          <p>Guess the Formula 1 driver using clues about their career stats.</p>
        </a>

        <a href="/music/" class="game-card music" onclick="trackGameClick('music')">
          <span class="emoji">ğŸµ</span>
          <h2>Music Quiz</h2>
          <p>Guess the song using hints about artist, genre, and era.</p>
        </a>

        <a href="/animal/" class="game-card animal" onclick="trackGameClick('animal')">
          <span class="emoji">ğŸ¦</span>
          <h2>Animal Quiz</h2>
          <p>Guess the mystery animal from habitat, diet, and trait clues.</p>
        </a>

        <a href="/sudoku/" class="game-card sudoku" onclick="trackGameClick('sudoku')">
          <span class="emoji">ğŸ§©</span>
          <h2>Sudoku</h2>
          <p>Classic number puzzle. Clean design, no distractions.</p>
        </a>
      </div>
    </main>

    <!-- Right Sidebar Ad -->
    <aside class="ad-sidebar ad-sidebar-right">
      <div class="ad-banner-vertical">
        <ins class="adsbygoogle"
             style="display:block;"
             data-ad-client="ca-pub-4490023750698733"
             data-ad-slot="9922848476"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </aside>
  </div>

  <footer>
    <p>
      <a href="about.html">About</a> Â· 
      <a href="privacy.html">Privacy</a>
    </p>
  </footer>

  <script>
    // Initialize ads
    (adsbygoogle = window.adsbygoogle || []).push({});
    (adsbygoogle = window.adsbygoogle || []).push({});

    // Track game card clicks
    function trackGameClick(gameName) {
      if (typeof gtag === 'function') {
        const timeOnPage = Math.round((Date.now() - sessionStartTime) / 1000);
        gtag('event', 'game_selected', {
          game_name: gameName,
          time_to_select_seconds: timeOnPage
        });
      }
    }

    // Track scroll depth
    let maxScroll = 0;
    window.addEventListener('scroll', function() {
      const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
      if (scrollPercent > maxScroll) {
        maxScroll = scrollPercent;
      }
    });

    // Track engagement before leaving
    window.addEventListener('beforeunload', function() {
      if (typeof gtag === 'function') {
        const sessionDuration = Math.round((Date.now() - sessionStartTime) / 1000);
        gtag('event', 'hub_engagement', {
          session_duration_seconds: sessionDuration,
          max_scroll_percent: maxScroll,
          games_visible: document.querySelectorAll('.game-card').length
        });
      }
    });

    // Track page visibility changes (user switches tabs)
    document.addEventListener('visibilitychange', function() {
      if (typeof gtag === 'function') {
        gtag('event', 'visibility_change', {
          visibility_state: document.visibilityState
        });
      }
    });
  </script>
</body>
</html>
