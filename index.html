<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Snackable Games ğŸ®</title>
  <meta name="description" content="Quick, fun browser games you can play in minutes. F1 Quiz, Sudoku, and more!" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ®</text></svg>">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="shared/css/shared.css" />

  <!-- GA4 - Hub Property -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z9BWP9G3HS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z9BWP9G3HS');

    // Track session start time
    const sessionStartTime = Date.now();
  </script>

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4490023750698733"
     crossorigin="anonymous"></script>
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Snackable Games",
    "description": "Free browser-based games you can play in minutes. Trivia quizzes, puzzles, and audio games - no downloads, no accounts required.",
    "url": "https://snackable-games.com",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://snackable-games.com/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
</head>
<body>
  <header>
    <div class="header-controls">
      <div class="language-selector">
        <select id="language-selector">
          <option value="en">EN</option>
          <option value="fr">FR</option>
          <option value="pt-br">PT</option>
          <option value="it">IT</option>
          <option value="es">ES</option>
        </select>
      </div>
    </div>
    <h1 data-i18n="hub.title">Snackable Games</h1>
    <p data-i18n="hub.subtitle">Quick, fun games you can play in minutes</p>
  </header>

  <div class="page-wrapper">
    <!-- Left Sidebar Ad -->
    <aside class="ad-sidebar ad-sidebar-left">
      <div class="ad-banner-vertical">
        <ins class="adsbygoogle"
             style="display:block;"
             data-ad-client="ca-pub-4490023750698733"
             data-ad-slot="9922848476"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </aside>

    <main>
      <div class="game-grid">
        <!-- Featured Games -->
        <a href="/blind-test/" class="game-card blindtest" onclick="trackGameClick('blindtest')">
          <span class="badge" data-i18n="hub.featured">Featured</span>
          <span class="emoji">ğŸ§</span>
          <h2 data-i18n="hub.games.blindtest.title">Blind Test</h2>
          <p data-i18n="hub.games.blindtest.desc">Listen to song samples and guess the title. Test your music knowledge!</p>
        </a>

        <a href="/movies-quiz/" class="game-card movies" onclick="trackGameClick('movies')">
          <span class="badge" data-i18n="hub.featured">Featured</span>
          <span class="emoji">ğŸ¬</span>
          <h2 data-i18n="hub.games.movies.title">Movie Quiz</h2>
          <p data-i18n="hub.games.movies.desc">Guess the film using clues about director, genre, and rating.</p>
        </a>

        <!-- Other Games -->
        <a href="/f1-quiz/" class="game-card f1" onclick="trackGameClick('f1')">
          <span class="emoji">ğŸï¸</span>
          <h2 data-i18n="hub.games.f1.title">F1 Quiz</h2>
          <p data-i18n="hub.games.f1.desc">Guess the Formula 1 driver using clues about their career stats.</p>
        </a>

        <a href="/fut-quiz/" class="game-card fut" onclick="trackGameClick('futquiz')">
          <span class="emoji">âš½</span>
          <h2 data-i18n="hub.games.fut.title">FutQuiz</h2>
          <p data-i18n="hub.games.fut.desc">Guess the football player using clues about their career.</p>
        </a>

        <a href="/music/" class="game-card music" onclick="trackGameClick('music')">
          <span class="emoji">ğŸµ</span>
          <h2 data-i18n="hub.games.music.title">Music Quiz</h2>
          <p data-i18n="hub.games.music.desc">Guess the song using hints about artist, genre, and era.</p>
        </a>

        <a href="/animal/" class="game-card animal" onclick="trackGameClick('animal')">
          <span class="emoji">ğŸ¦</span>
          <h2 data-i18n="hub.games.animal.title">Animal Quiz</h2>
          <p data-i18n="hub.games.animal.desc">Guess the mystery animal from habitat, diet, and trait clues.</p>
        </a>

        <a href="/sudoku/" class="game-card sudoku" onclick="trackGameClick('sudoku')">
          <span class="emoji">ğŸ§©</span>
          <h2 data-i18n="hub.games.sudoku.title">Sudoku</h2>
          <p data-i18n="hub.games.sudoku.desc">Classic number puzzle. Clean design, no distractions.</p>
        </a>

        <a href="/tennis-quiz/" class="game-card tennis" onclick="trackGameClick('tennis')">
          <span class="emoji">ğŸ¾</span>
          <h2 data-i18n="hub.games.tennis.title">Tennis Quiz</h2>
          <p data-i18n="hub.games.tennis.desc">Guess the tennis player using clues about their career and stats.</p>
        </a>

        <a href="/books-quiz/" class="game-card books" onclick="trackGameClick('books')">
          <span class="emoji">ğŸ“š</span>
          <h2 data-i18n="hub.games.books.title">Books Quiz</h2>
          <p data-i18n="hub.games.books.desc">Guess the classic book using clues about author and publication.</p>
        </a>
      </div>
    </main>

    <!-- Right Sidebar Ad -->
    <aside class="ad-sidebar ad-sidebar-right">
      <div class="ad-banner-vertical">
        <ins class="adsbygoogle"
             style="display:block;"
             data-ad-client="ca-pub-4490023750698733"
             data-ad-slot="9922848476"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </aside>
  </div>

  <footer>
    <p>
      <a href="about.html" data-i18n="hub.about">About</a> Â· 
      <a href="faq.html">FAQ</a> Â· 
      <a href="news.html">News</a> Â· 
      <a href="privacy.html" data-i18n="hub.privacy">Privacy</a> Â· 
      <a href="terms.html">Terms</a>
    </p>
    <p class="admin-links" style="font-size: 0.8rem; opacity: 0.5; margin-top: 0.5rem;">
      <a href="data-explorer/" style="color: inherit;">Data Explorer</a> Â· 
      <a href="feedback-admin/" style="color: inherit;">Feedback Admin</a>
    </p>
  </footer>

  <script>
    // Initialize ads
    (adsbygoogle = window.adsbygoogle || []).push({});
    (adsbygoogle = window.adsbygoogle || []).push({});

    // Track game card clicks with game-specific event names
    // Events: game_selected_blindtest, game_selected_movies, game_selected_f1, etc.
    function trackGameClick(gameName) {
      if (typeof gtag === 'function') {
        const timeOnPage = Math.round((Date.now() - sessionStartTime) / 1000);
        gtag('event', `game_selected_${gameName}`, {
          time_to_select_seconds: timeOnPage
        });
      }
    }

    // Track scroll depth
    let maxScroll = 0;
    window.addEventListener('scroll', function() {
      const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
      if (scrollPercent > maxScroll) {
        maxScroll = scrollPercent;
      }
    });

    // Track engagement before leaving
    window.addEventListener('beforeunload', function() {
      if (typeof gtag === 'function') {
        const sessionDuration = Math.round((Date.now() - sessionStartTime) / 1000);
        gtag('event', 'hub_engagement', {
          session_duration_seconds: sessionDuration,
          max_scroll_percent: maxScroll,
          games_visible: document.querySelectorAll('.game-card').length
        });
      }
    });

    // Track page visibility changes (user switches tabs)
    document.addEventListener('visibilitychange', function() {
      if (typeof gtag === 'function') {
        gtag('event', 'visibility_change', {
          visibility_state: document.visibilityState
        });
      }
    });

  </script>
  
  <!-- Shared utilities -->
  <script src="shared/js/game-utils.js"></script>
  <script src="shared/js/i18n.js"></script>
  
  <!-- Initialize Feedback -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      GameUtils.injectFeedbackModal('General / Website');
      
      // Auto-open feedback if ?feedback=open in URL
      if (window.location.search.includes('feedback=open')) {
        GameUtils.openFeedback();
        window.history.replaceState({}, document.title, window.location.pathname);
      }
    });
  </script>
  <script>
    // Initialize i18n for Hub
    (async function() {
      const i18n = new I18n();
      await i18n.init();
    })();
  </script>
</body>
</html>
